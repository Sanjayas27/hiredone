<html>
    <head>
        <title>Employee Home page</title>
    </head>
    <body>

        <script type="module">
            // On the destination page (home page)
            import { initializeApp } from "https://www.gstatic.com/firebasejs/10.11.1/firebase-app.js";
            import { getFirestore, collection, query, where, getDocs } from 'https://www.gstatic.com/firebasejs/10.11.1/firebase-firestore.js';
            
            const firebaseConfig = {
            apiKey: "AIzaSyAdJQyg21E1O4YogrlSusyZsvqlOdjQwWs",
            authDomain: "workease-39efc.firebaseapp.com",
            projectId: "workease-39efc",
            storageBucket: "workease-39efc.appspot.com",
            messagingSenderId: "227355095295",
            appId: "1:227355095295:web:30a2dc4ac7fdc1cd529cca",
            measurementId: "G-TRBXGKKWS7"
            };

            // Initialize Firebase
            const app = initializeApp(firebaseConfig);
            const db = getFirestore(app);

            const userId = localStorage.getItem('user');
            console.log(userId); // Output: exampleUser

            const fetchData = async () => {
            try {
                const snapshot = await db.collection("users").where("userId", "==", userId).get();
                snapshot.forEach((doc) => {
                console.log(doc.id, " => ", doc.data());
                });
            } catch (error) {
                console.error("Error fetching data: ", error);
            }
            };

            fetchData();

        </script>
    </body>
</html>